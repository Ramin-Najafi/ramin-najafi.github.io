/* ============================================
   PERSONAL BUTLER - CSS STYLESHEET
   Refined minimalism with understated elegance
   ============================================ */

:root {
    /* Color Palette - Warm neutrals with sophisticated restraint */
    --color-bg-primary: #fafafa;
    --color-bg-secondary: #f5f5f5;
    --color-bg-tertiary: #efefef;
    --color-text-primary: #2a2a2a;
    --color-text-secondary: #6b6b6b;
    --color-text-light: #a0a0a0;
    --color-accent: #d4a574;
    --color-accent-dark: #b8905d;
    --color-border: #e0e0e0;
    --color-emotion-positive: #9b8b7e;
    --color-emotion-negative: #c4a69d;
    
    /* Typography */
    --font-display: 'Crimson Text', serif;
    --font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    
    /* Spacing */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;
    --spacing-2xl: 48px;
    
    /* Shadows - Subtle, refined */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 12px 20px rgba(0, 0, 0, 0.12);
    
    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ============================================
   DARK MODE OVERRIDES - Only for specific elements
   ============================================ */
@media (prefers-color-scheme: dark) {
    #linen-hamburger .bar {
        background-color: #ffffff; /* White bars in dark mode */
    }
}


/* ============================================
   RESET & BASE STYLES
   ============================================ */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: var(--font-body);
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    line-height: 1.6;
    overflow-x: hidden;
}

input, textarea, button {
    font-family: inherit;
}

/* ============================================
   LAYOUT - App Grid Structure
   ============================================ */

.app-container {
    display: grid;
    grid-template-columns: 240px 1fr;
    height: 100vh;
    overflow: hidden;
}

.sidebar {
    background-color: #ffffff; /* Use primary bg color */
    border-right: 1px solid var(--color-border);
    display: flex;
    flex-direction: column;
    padding: var(--spacing-xl);
    overflow-y: auto;
    box-shadow: var(--shadow-sm);
}

.main-content {
    overflow-y: auto;
    overflow-x: hidden;
    background-color: var(--color-bg-primary);
}

/* ============================================\n   HAMBURGER ICON (MOBILE)\n   ============================================ */\n#linen-hamburger {\n    display: none; /* Hidden by default on desktop */\n    position: fixed;\n    top: var(--spacing-md);\n    right: var(--spacing-md);\n    z-index: 150;\n    width: 30px;\n    height: 24px;\n    flex-direction: column;\n    justify-content: space-between;\n    cursor: pointer;\n    transition: transform var(--transition-base);\n}\n\n#linen-hamburger .bar {\n    width: 100%;\n    height: 3px;\n    background-color: var(--color-text-primary);\n    border-radius: 2px;\n    transition: all var(--transition-base);\n}\n\n#linen-hamburger.open .bar:nth-child(1) {\n    transform: translateY(10.5px) rotate(45deg);\n}\n\n#linen-hamburger.open .bar:nth-child(2) {\n    opacity: 0;\n}\n\n#linen-hamburger.open .bar:nth-child(3) {\n    transform: translateY(-10.5px) rotate(-45deg);\n}\n\n\n/* ============================================\n   SIDEBAR\n   ============================================ */\n\n.sidebar-header {\n    margin-bottom: var(--spacing-2xl);\n}\n\n.app-title {\n    font-family: var(--font-display);\n    font-size: 2.5rem;\n    font-weight: 400;\n    color: var(--color-text-primary);\n    letter-spacing: -1px;\n    margin-bottom: var(--spacing-xs);\n}\n\n.app-tagline {\n    font-size: 0.875rem;\n    color: var(--color-text-secondary);\n    font-weight: 500;\n    letter-spacing: 0.5px;\n}\n\n.sidebar-nav {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-sm);\n    flex: 1;\n    margin-bottom: var(--spacing-lg);\n}\n\n.nav-item {\n    display: flex;\n    align-items: center;\n    gap: var(--spacing-md);\n    padding: var(--spacing-md) var(--spacing-lg);\n    background: none;\n    border: 1px solid transparent;\n    border-radius: 8px;\n    cursor: pointer;\n    font-size: 1rem;\n    color: var(--color-text-secondary);\n    transition: all var(--transition-base);\n    position: relative;\n}\n\n.nav-item:hover {\n    background-color: var(--color-bg-secondary);\n    color: var(--color-text-primary);\n}\n\n.nav-item.active {\n    background-color: var(--color-bg-secondary);\n    color: var(--color-accent);\n    border-color: var(--color-accent);\n}\n\n.nav-item.active::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 3px;\n    background-color: var(--color-accent);\n    border-radius: 0 3px 3px 0;\n}\n\n.nav-icon {\n    font-size: 1.5rem;\n    min-width: 24px;\n    display: flex;\n    align-items: center;\n}\n\n.nav-label {\n    font-weight: 500;\n    letter-spacing: 0.3px;\n}\n\n.sidebar-footer {\n    padding-top: var(--spacing-lg);\n    border-top: 1px solid var(--color-border);\n}\n\n.memory-count {\n    display: flex;\n    align-items: baseline;\n    justify-content: space-between;\n    padding: var(--spacing-md);\n    background-color: var(--color-bg-secondary);\n    border-radius: 8px;\n    text-align: center;\n}\n\n.count-label {\n    font-size: 0.875rem;\n    color: var(--color-text-secondary);\n    font-weight: 500;\n}\n\n.count-number {\n    font-family: var(--font-display);\n    font-size: 2rem;\n    font-weight: 400;\n    color: var(--color-accent);\n}\n\n/* ============================================\n   MAIN CONTENT\n   ============================================ */\n\n.view {\n    display: none;\n    animation: fadeIn var(--transition-base) forwards;\n    padding: var(--spacing-2xl) var(--spacing-xl);\n    max-width: 800px;\n    margin: 0 auto;\n}\n\n.view.active {\n    display: block;\n}\n\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n        transform: translateY(10px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.view-header {\n    margin-bottom: var(--spacing-2xl);\n}\n\n.view-header h2 {\n    font-family: var(--font-display);\n    font-size: 2.5rem;\n    font-weight: 400;\n    color: var(--color-text-primary);\n    margin-bottom: var(--spacing-md);\n    letter-spacing: -0.5px;\n}\n\n.view-subtitle {\n    font-size: 1rem;\n    color: var(--color-text-secondary);\n    font-weight: 400;\n}\n\n/* ============================================\n   FORM STYLES\n   ============================================ */\n\n.capture-form {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-xl);\n}\n\n.form-group {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-md);\n}\n\n.form-label {\n    font-weight: 500;\n    font-size: 0.95rem;\n    color: var(--color-text-primary);\n    letter-spacing: 0.3px;\n}\n\n.memory-input,\n.form-input,\n.recall-search-input {\n    padding: var(--spacing-md) var(--spacing-lg);\n    border: 1px solid var(--color-border);\n    border-radius: 8px;\n    background-color: #ffffff;\n    color: var(--color-text-primary);\n    font-size: 1rem;\n    line-height: 1.6;\n    transition: all var(--transition-base);\n    font-family: var(--font-body);\n}\n\n.memory-input::placeholder,\n.form-input::placeholder,\n.recall-search-input::placeholder {\n    color: var(--color-text-light);\n}\n\n.memory-input:focus,\n.form-input:focus,\n.recall-search-input:focus {\n    outline: none;\n    border-color: var(--color-accent);\n    box-shadow: 0 0 0 3px rgba(212, 165, 116, 0.1);\n    background-color: #fefbf8;\n}\n\n.memory-input {\n    resize: vertical;\n    min-height: 150px;\n    font-family: var(--font-body);\n}\n\n.form-hint {\n    font-size: 0.875rem;\n    color: var(--color-text-light);\n    font-style: italic;\n}\n\n.emotion-selector {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--spacing-md);\n}\n\n.emotion-btn {\n    padding: var(--spacing-md);\n    border: 1px solid var(--color-border);\n    border-radius: 8px;\n    background-color: #ffffff;\n    color: var(--color-text-secondary);\n    cursor: pointer;\n    font-size: 0.95rem;\n    font-weight: 500;\n    transition: all var(--transition-base);\n}\n\n.emotion-btn:hover {\n    background-color: var(--color-bg-secondary);\n    border-color: var(--color-accent);\n}\n\n.emotion-btn.selected {\n    background-color: var(--color-accent);\n    color: #ffffff;\n    border-color: var(--color-accent);\n}\n\n/* ============================================\n   BUTTONS\n   ============================================ */\n\n.btn {\n    padding: var(--spacing-md) var(--spacing-lg);\n    border: none;\n    border-radius: 8px;\n    font-size: 1rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all var(--transition-base);\n    text-align: center;\n    letter-spacing: 0.3px;\n    min-height: 48px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.btn-primary {\n    background-color: var(--color-accent);\n    color: #ffffff;\n    box-shadow: var(--shadow-sm);\n}\n\n.btn-primary:hover {\n    background-color: var(--color-accent-dark);\n    box-shadow: var(--shadow-md);\n    transform: translateY(-2px);\n}\n\n.btn-primary:active {\n    transform: translateY(0);\n}\n\n.btn-secondary {\n    background-color: var(--color-bg-secondary);\n    color: var(--color-text-primary);\n    border: 1px solid var(--color-border);\n}\n\n.btn-secondary:hover {\n    background-color: var(--color-bg-tertiary);\n}\n\n.btn-danger {\n    background-color: #f5ede8;\n    color: #c4a69d;\n    border: 1px solid #e8d9d0;\n}\n\n.btn-danger:hover {\n    background-color: #f0e4dd;\n    color: #b8905d;\n}\n\n/* ============================================\n   RECALL SECTION\n   ============================================ */\n\n.recall-search {\n    margin-bottom: var(--spacing-xl);\n}\n\n.recall-search-input {\n    width: 100%;\n}\n\n.memories-list {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-lg);\n}\n\n.memory-card {\n    padding: var(--spacing-lg);\n    background-color: #ffffff;\n    border: 1px solid var(--color-border);\n    border-radius: 8px;\n    transition: all var(--transition-base);\n    animation: slideIn var(--transition-base) forwards;\n}\n\n@keyframes slideIn {\n    from {\n        opacity: 0;\n        transform: translateY(-20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.memory-card:hover {\n    box-shadow: var(--shadow-md);\n    border-color: var(--color-accent);\n}\n\n.memory-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: start;\n    margin-bottom: var(--spacing-md);\n}\n\n.memory-date {\n    font-size: 0.875rem;\n    color: var(--color-text-light);\n    font-weight: 500;\n}\n\n.memory-emotion {\n    font-size: 1.5rem;\n    color: var(--color-text-primary); /* Changed from var(--color-emotion-positive) */\n}\n\n.memory-text {\n    font-size: 1rem;\n    color: var(--color-text-primary);\n    line-height: 1.7;\n    margin-bottom: var(--spacing-md);\n    white-space: pre-wrap;\n}\n\n.memory-tags {\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--spacing-sm);\n    margin-bottom: var(--spacing-md);\n}\n\n.tag {\n    display: inline-block;\n    padding: var(--spacing-xs) var(--spacing-md);\n    background-color: var(--color-bg-secondary);\n    color: var(--color-text-secondary);\n    border-radius: 20px;\n    font-size: 0.85rem;\n    font-weight: 500;\n}\n\n.memory-actions {\n    display: flex;\n    gap: var(--spacing-md);\n}\n\n.memory-btn {\n    padding: var(--spacing-xs) var(--spacing-md);\n    background: none;\n    border: 1px solid var(--color-border);\n    border-radius: 6px;\n    color: var(--color-text-secondary);\n    cursor: pointer;\n    font-size: 0.85rem;\n    font-weight: 500;\n    transition: all var(--transition-base);\n}\n\n.memory-btn:hover {\n    background-color: var(--color-bg-secondary);\n    border-color: var(--color-accent);\n    color: var(--color-accent);\n}\n\n.empty-state {\n    text-align: center;\n    padding: var(--spacing-2xl) var(--spacing-lg);\n    color: var(--color-text-secondary);\n}\n\n.empty-state p {\n    font-size: 1.1rem;\n    margin-bottom: var(--spacing-md);\n    color: var(--color-text-primary);\n}\n\n.empty-state span {\n    font-size: 0.95rem;\n    display: block;\n    color: var(--color-text-light);\n}\n\n/* ============================================\n   INSIGHTS SECTION\n   ============================================ */\n\n.insights-container {\n    display: grid;\n    gap: var(--spacing-lg);\n}\n\n.insight-card {\n    padding: var(--spacing-lg);\n    background-color: #ffffff;\n    border: 1px solid var(--color-border);\n    border-radius: 8px;\n}\n\n.insight-card h3 {\n    font-size: 1.1rem;\n    margin-bottom: var(--spacing-md);\n    color: var(--color-text-primary);\n    font-weight: 600;\n}\n\n/* ============================================\n   SETTINGS SECTION\n   ============================================ */\n\n.settings-container {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-2xl);\n}\n\n.settings-section {\n    padding: var(--spacing-lg);\n    background-color: #ffffff;\n    border: 1px solid var(--color-border);\n    border-radius: 8px;\n}\n\n.settings-section h3 {\n    font-size: 1.1rem;\n    margin-bottom: var(--spacing-lg);\n    color: var(--color-text-primary);\n    font-weight: 600;\n}\n\n.settings-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: var(--spacing-md) 0;\n    border-bottom: 1px solid var(--color-border);\n}\n\n.settings-item:last-child {\n    border-bottom: none;\n}\n\n.settings-label {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-xs);\n}\n\n.settings-hint {\n    font-size: 0.875rem;\n    color: var(--color-text-light);\n    font-weight: 400;\n}\n\n.settings-badge {\n    display: inline-block;\n    padding: 4px 8px;\n    background-color: #e8f5e9;\n    color: #66bb6a;\n    border-radius: 4px;\n    font-size: 0.75rem;\n    font-weight: 600;\n}\n\n.settings-section .btn {\n    width: 100%;\n    margin-top: var(--spacing-md);\n}\n\n/* ============================================\n   TOAST NOTIFICATION\n   ============================================ */\n\n.toast {\n    position: fixed;\n    bottom: var(--spacing-lg);\n    left: 50%;\n    transform: translateX(-50%) translateY(200px);\n    padding: var(--spacing-md) var(--spacing-lg);\n    background-color: #2a2a2a;\n    color: #ffffff;\n    border-radius: 8px;\n    font-size: 0.95rem;\n    font-weight: 500;\n    box-shadow: var(--shadow-lg);\n    opacity: 0;\n    pointer-events: none;\n    transition: all var(--transition-base);\n    z-index: 1000;\n}\n\n.toast.show {\n    opacity: 1;\n    transform: translateX(-50%) translateY(0);\n    pointer-events: auto;\n}\n\n/* ============================================\n   SIDEBAR OVERLAY\n   ============================================ */\n.sidebar-overlay {\n    display: none;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 90; /* Below sidebar, above content */\n    transition: opacity var(--transition-base);\n}\n\nbody.sidebar-open .sidebar-overlay {\n    display: block;\n    opacity: 1;\n}\n\n/* ============================================\n   RESPONSIVE - Mobile First\n   ============================================ */\n\n@media (max-width: 768px) {\n    .app-container {\n        grid-template-columns: 1fr;\n        grid-template-rows: 1fr; /* Single row */\n    }\n    \n    #linen-hamburger {\n        display: flex; /* Show hamburger on mobile */\n    }\n\n    .sidebar {\n        position: fixed;\n        top: 0;\n        left: -240px; /* Off-screen by default */\n        width: 240px;\n        height: 100vh;\n        z-index: 100;\n        transition: left var(--transition-base) ease-out;\n        border-right: none;\n        box-shadow: var(--shadow-lg);\n    }\n\n    .sidebar.open {\n        left: 0; /* Slide into view */\n    }\n\n    /* Re-enable sidebar header/footer for mobile sidebar */\n    .sidebar-header {\n        display: block;\n    }\n    \n    .sidebar-nav {\n        flex-direction: column;\n        gap: var(--spacing-sm);\n        flex: 1;\n        margin-bottom: var(--spacing-lg);\n    }\n    \n    .sidebar-footer {\n        display: block;\n    }\n\n    .view {\n        padding: var(--spacing-lg);\n    }\n    \n    .view-header h2 {\n        font-size: 1.75rem;\n    }\n    \n    .emotion-selector {\n        grid-template-columns: 1fr;\n    }\n    \n    .memory-card {\n        border-radius: 6px;\n    }\n    \n    .app-title {\n        font-size: 1.5rem;\n    }\n}\n\n@media (max-width: 480px) {\n    .view {\n        padding: var(--spacing-md);\n    }\n    \n    .view-header h2 {\n        font-size: 1.5rem;\n    }\n    \n    .view-header {\n        margin-bottom: var(--spacing-lg);\n    }\n    \n    .memory-input {\n        min-height: 120px;\n    }\n    \n    .memory-card {\n        padding: var(--spacing-md);\n    }\n}\n